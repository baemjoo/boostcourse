<!DOCTYPE html>
<html>

<head>
<title>190111 - FE_DOM_APs 실습</title>
<!--파일이 UTF-8로 저장되고 웹브라우저가 UTF-8로 열도록-->
<meta charset="utf-8">
<style> </style>
</head>
<body>
<h1>selector test</h1>

<ul>
  <li class="red">apple</li>
  <li class="red">orange</li>
  <li>banana</li>
  <li>grape</li>
  <li>strawberry</li>
</ul>
<br>
<button id="add_fruit">과일 추가하기</button>
<br>
<button id="remove_fruit">과일 삭제하기</button>
<br>
<button id="add_btw1">오렌지와 바나나사이 과일 추가</button>
<br>
<button id="add_btw2">오렌지와 바나나사이 과일 추가</button>
<br>
<button id="move_apple">사과를 포도와 딸기 사이로 옮기기</button>
<br>
<button id="remove_red">class가 red인 과일 삭제하기</button>

<br>

<br>

<section>
  <h2> red section </h2>
  <ul>
    <li class="red">apple</li>
    <li class="red">orange</li>
    <li>banana</li>
    <li>grape</li>
    <li>strawberry</li>
  </ul>
</section>

  <Br>

<section>
  <h2> blue section </h2>
  <ul>
    <li class="green blue">apple</li>
    <li class="red">orange</li>
    <li>banana</li>
    <li>grape</li>
    <li>strawberry</li>
  </ul>
</section>
<br>
<button id="remove_h2">class가 blue면 h2삭제</button>
</body>

<script>

//실습 1 과일 하나 추가하기
var add_fruit = document.getElementById("add_fruit");
add_fruit.addEventListener("click",function(){
  var ul = document.querySelector("ul");
  var new_fruit_el = document.createElement("li");
  var new_fruit_text = document.createTextNode("lemon");

  new_fruit_el.appendChild(new_fruit_text);

  ul.appendChild(new_fruit_el);
});

//실습 1 과일 하나 삭제하기
var remove_fruit = document.getElementById("remove_fruit");
remove_fruit.addEventListener("click",function(){
  var ul = document.querySelector("ul");

  ul.removeChild(ul.lastElementChild);
});


//실습 2 insertBefore을 사용하여 orange와 banana사이에 새로운 과일 추가
var add_btw1 = document.getElementById("add_btw1");
add_btw1.addEventListener("click",function(){
  var ul = document.querySelector("ul");
  var btw = document.querySelector("li:nth-child(3)");
  var liNode = document.createElement("li");
  var textNode = document.createTextNode("mango");
  liNode.appendChild(textNode);

  ul.insertBefore(liNode,btw);
});

//실습 3 insertAdjacentHTML메서드를  사용해서, orange와 banana 사이에 새로운 과일을 추가
var add_btw2 = document.getElementById("add_btw2");
add_btw2.addEventListener("click",function(){
  var liNode = document.querySelector("li:nth-child(2)");

  liNode.insertAdjacentHTML("afterend","<li>melon</li>");
});

//실습 4 apple을 grape 와 strawberry 사이로 옮기시오.
var move_apple = document.getElementById("move_apple");
move_apple.addEventListener("click",function(){
  var li = document.querySelector("li");
  var applie_li = document.querySelector("li:nth-child(4)");
  var apple = document.querySelector("li:nth-child(1)").innerText;

  li.remove(1);
  applie_li.insertAdjacentHTML("afterend","<li>"+apple+"</li>");
});

//실습 5 class 가 'red'인 노드만 삭제하시오.
var remove_red = document.getElementById("remove_red");
remove_red.addEventListener("click",function(){
  var li = document.querySelectorAll("li");

  li.forEach(function(element){
    if(element.className == "red")
    {
      element.remove();
    }
  });
});

//실습 6 section 태그의 자손 중에 blue라는 클래스를 가지고 있는 노드가 있다면, 그 하위에 있는 h2 노드를 삭제하시오.
var remove_h2 = document.getElementById("remove_h2");
remove_h2.addEventListener("click",function(){
  var sectionli = document.querySelectorAll("section");
  sectionli.forEach(function(element1){
    var li =  document.querySelectorAll("li");
    li.forEach(function(element2){
      if(element2.className.includes("blue")){
        var sectiontitle = element1.querySelector("h2");
        sectiontitle.remove();
      }
    });
  });
});


</script>
</html>
